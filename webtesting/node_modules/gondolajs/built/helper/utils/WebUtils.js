"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports._assertOverlappedLocator=exports.waitForClickable=exports.getElementId=exports.findFirstElement=exports.selectByIndex=exports.scrollIntoView=void 0;const errors=__importStar(require("../../errors")),message_1=require("../../message"),util_1=require("../../util"),ElementNotFound=require("codeceptjs/lib/helper/errors/ElementNotFound");async function scrollIntoView(e,t,r){const o=await findFirstElement(e,t);await o.scrollIntoView(r)}async function selectByIndex(e,t,r){if(r<0)throw new errors.NegativeNumberError;const o=await findFirstElement(e,t),n=(await o.getTagName()).toLowerCase(),i=getElementId(o);let l="option";"ul"===n&&(l="li");const a=e.browser,s=await a.findElementsFromElement(i,"css selector",l);if(0===s.length)throw new errors.EmptySelectControl;if(s.length-1<r)throw new errors.InvalidSelectOptionIndex(r,s.length);const c=getElementId(s[r]),u=await a.isElementDisplayed(c),d=await a.isElementEnabled(c);if(!1===u||!1===d)throw new errors.GError(errors.GErrorKey.ElementNotEnabledOrDisplayed,t);if("select"!==n){if("ul"===n)return await a.elementClick(c);throw new errors.InvalidSelectOptionStrategy(n)}await o.selectByIndex(r)}async function findFirstElement(e,t,r=!0){if(!e)return;const o=await e._locate(t,r);if(!o||0===o.length)throw new ElementNotFound(t);return o[0]}function getElementId(e){return e?e["element-6066-11e4-a52e-4f735466cecf"]?e["element-6066-11e4-a52e-4f735466cecf"]:e.ELEMENT?e.ELEMENT:null:null}async function waitForClickable(e,t,r){const o=await e._locate(t,!0);if(!o.length)throw new errors.ElementNotFoundError(util_1.getLocatorString(t));const n=o[0],i=message_1.format(message_1.localize(errors.GErrorKey.TimeoutForClickable),t,r);await n.waitForClickable({timeout:1e3*r,timeoutMsg:i})}async function _assertOverlappedLocator(e,t){const r=await e._locate(t,!0);if(!r.length)throw new errors.ElementNotFoundError(util_1.getLocatorString(t));const o=r[0],n=await o.isClickable(),i=await o.isDisplayed();if(!n||!i)throw new errors.GError(errors.GErrorKey.ElementNotEnabledOrDisplayed,t)}exports.scrollIntoView=scrollIntoView,exports.selectByIndex=selectByIndex,exports.findFirstElement=findFirstElement,exports.getElementId=getElementId,exports.waitForClickable=waitForClickable,exports._assertOverlappedLocator=_assertOverlappedLocator;
//# sourceMappingURL=../../../debug/helper/utils/WebUtils.js.map
